---
title: "Quantitative strategies on High Frequency Data"
subtitle: "submission of research project"
author: "Team members: Sujith Madesh and Kacper Monson"
date: 01/20/2026
date-format: "MMM D, YYYY"
format: revealjs
---

## Approaches undertaken {.scrollable}

### Group 1 (NQ, SP)

We implemented and evaluated three intraday strategies on 1‑minute data, aggregated to **daily PnL** and summarized **quarter-by-quarter**:

- **Strategy 1 (EMA crossover):** momentum/mean-reversion variants based on a fast vs slow exponential moving average.
- **Strategy 2 (Volatility breakout 2.2):** fast EMA as the signal with volatility bands defined by slow EMA ± $m\cdot\sigma$ (rolling standard deviation). Both momentum and mean‑reversion variants were evaluated.
- **Strategy 3 (RF‑EMA crossover 2.3):** EMA crossover with a regime filter (trade only when the EMA spread is large relative to recent volatility).

## Group 1 — assumptions / execution rules {.scrollable}

**Assumptions / execution rules (Group 1):**
- We avoid the most illiquid minutes by excluding the first/last 10 minutes of the session from calculations.
- We do not trade in the first part of the session and we flatten before the close (no overnight risk).
- PnL is computed in USD using contract point values and includes fixed transaction costs per trade.

## Group 1 — parameter search & selection {.scrollable}

**Parameter search:**
- For each quarter and each contract we ran a grid search over strategy parameters.
- We computed performance metrics (gross/net Sharpe, Calmar, cumulative PnL, turnover) and a ranking statistic (`stat`).
- To avoid overfitting within a quarter, we selected **one fixed parameter set per contract** by maximizing the **sum of `stat` across in‑sample quarters**.


## Finally selected strategy for **group 1**

Based on robustness across quarters and net performance, our final choice for Group 1 is:

- **Strategy 2: Volatility Breakout 2.2 (EMA signal + volatility bands)**
    - **NQ:** MOM variant with (signalEMA=20, slowEMA=60, volat_sd=30, m=2.0)
    - **SP:** MR variant with (signalEMA=90, slowEMA=180, volat_sd=60, m=1.0)

These parameters are held fixed across quarters for each contract.


<!-- here you can include code chunk that applies the strategy for group 1 and calculates all the summary statistics
-->

```{python}
#|echo: false
#| output: false
import runpy

runpy.run_path("final_strategy_group1.py")
```



## Summary of results for **group 1** {.scrollable}

```{python}
#| echo: false

# import the csv file with strategy results (created by final_strategy_group1.py)
import pandas as pd
summary_data1_all_quarters = pd.read_csv("outputs/group1/summary_data1_all_quarters.csv")

# Cleaner view: only NQ and SP (no portfolio rows)
summary_data1_all_quarters = (
    summary_data1_all_quarters[
        summary_data1_all_quarters["sym"].isin(["NQ", "SP"])
    ]
    .sort_values(["quarter", "sym"], ascending=[True, True])
)

# Format the table
numeric_cols = summary_data1_all_quarters.select_dtypes(include=['float', 'int']).columns

styled_table = (
    summary_data1_all_quarters.style
    .format("{:.2f}", subset=numeric_cols)   # format numbers only
    .set_properties(**{"text-align": "right"})  
    .set_table_styles([
        {"selector": "th", "props": [("font-size", "20px")]},
        {"selector": "td", "props": [("font-size", "20px")]}
    ])
    .hide(axis = "index")   # << hides the index
)
styled_table
```

**Comment:** The table reports quarter-by-quarter metrics for **NQ** and **SP** only. Results are **regime dependent**: NQ (MOM) benefits more in trending quarters, while SP (MR) performs best when mean reversion dominates; net results are consistently below gross due to transaction costs.



## Equity line for **group 1** -- 2023Q1 {.scrollable}

```{python}
#| echo: false
#| out-width: 100%
from IPython.display import Image, display
display(Image(filename="outputs/group1/data1_2023_Q1_NQ.png"))
display(Image(filename="outputs/group1/data1_2023_Q1_SP.png"))
```

**NQ Comment:** Strong trending quarter; the momentum breakout delivers a steep upward net equity path after costs.

**SP Comment:** Weak/negative quarter; mean-reversion has low edge here and costs amplify the drawdown.

## Equity line for **group 1** -- 2023Q3 {.scrollable}

```{python}
#| echo: false
#| out-width: 100%
from IPython.display import Image, display
display(Image(filename="outputs/group1/data1_2023_Q3_NQ.png"))
display(Image(filename="outputs/group1/data1_2023_Q3_SP.png"))
```

**NQ Comment:** Flatter quarter with smaller gains; costs matter more when momentum edge is weaker.

**SP Comment:** Positive quarter; mean-reversion performs better in the more two-sided regime.

## Equity line for **group 1** -- 2023Q4 {.scrollable}

```{python}
#| echo: false
#| out-width: 100%
from IPython.display import Image, display
display(Image(filename="outputs/group1/data1_2023_Q4_NQ.png"))
display(Image(filename="outputs/group1/data1_2023_Q4_SP.png"))
```

**NQ Comment:** Positive quarter; momentum breakout captures persistent moves and keeps net equity rising.

**SP Comment:** Slightly negative; mean-reversion struggles to overcome costs in this regime.


## Equity line for **group 1** -- 2024Q2 {.scrollable}

```{python}
#| echo: false
#| out-width: 100%
from IPython.display import Image, display
display(Image(filename="outputs/group1/data1_2024_Q2_NQ.png"))
display(Image(filename="outputs/group1/data1_2024_Q2_SP.png"))
```

**NQ Comment:** Challenging quarter for momentum; choppy/mean-reverting conditions lead to drawdowns.

**SP Comment:** Strong quarter; mean-reversion benefits from oscillating prices and delivers solid net gains.

## Equity line for **group 1** -- 2024Q4 {.scrollable}

```{python}
#| echo: false
#| out-width: 100%
from IPython.display import Image, display
display(Image(filename="outputs/group1/data1_2024_Q4_NQ.png"))
display(Image(filename="outputs/group1/data1_2024_Q4_SP.png"))
```

**NQ Comment:** Strong quarter; sustained moves make the momentum breakout highly profitable after costs.

**SP Comment:** Near-flat quarter; small gross gains are largely eaten by transaction costs.

## Equity line for **group 1** -- 2025Q1 {.scrollable}

```{python}
#| echo: false
#| out-width: 100%
from IPython.display import Image, display
display(Image(filename="outputs/group1/data1_2025_Q1_NQ.png"))
display(Image(filename="outputs/group1/data1_2025_Q1_SP.png"))
```

**NQ Comment:** Modest positive quarter; momentum edge is present but comparatively small.

**SP Comment:** Very strong quarter; mean-reversion is the main driver of performance.

## Equity line for **group 1** -- 2025Q2 {.scrollable}

```{python}
#| echo: false
#| out-width: 100%
from IPython.display import Image, display
display(Image(filename="outputs/group1/data1_2025_Q2_NQ.png"))
display(Image(filename="outputs/group1/data1_2025_Q2_SP.png"))
```

**NQ Comment:** Positive but lower-edge quarter; net equity rises gradually and remains sensitive to costs.

**SP Comment:** Strong quarter; mean-reversion produces large net gains with manageable turnover.

## Summary of results for **group 2**

AND OF COURSE YOU SHOULD INCLUDE A SIMILAR SUMMARY TABLE, FIGURES AND COMMENTS FOR THE STRATEGY BASED ON **THE SECOND GROUP OF ASSETS**


## Summary and conclusions

### Group 1 conclusion (NQ + SP)

- We select **Volatility Breakout 2.2** with fixed parameters: **NQ uses MOM**, **SP uses MR**.
- Performance is clearly **regime dependent**: NQ MOM contributes most in trending quarters, while SP MR contributes most in choppy/mean‑reverting quarters.
- **Transaction costs matter**: the gap between gross and net is material, especially in lower-edge quarters.
- The combined design (MOM on NQ + MR on SP) provides a **more balanced profile** than running a single style on both assets.
- Overall, we view this as a reasonable, interpretable intraday strategy for Group 1, but **risk control and cost assumptions** are critical for real deployment.